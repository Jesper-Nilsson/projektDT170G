<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Restaurant Booking</title>
    <style>
        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4);
        }

        .content-container{
            position: relative;
            background-color: #fff;
            margin: 5% auto;
            padding-bottom: 1rem;
            border-radius: 10px; /* Rounded corners */
            border: none;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1); /* Soft shadow */
            width: 60%; /* Adjusted width for a more modern look */

        }

        .close {
            position: absolute;
            right: 3%;
            top: 20%;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .guest-list {

            list-style: none;
            padding: 2rem;
            width: 70%;
            margin:0 auto;
        }

        .guest-list li {
            outline: none;
            cursor: pointer;
            padding: 10px 20px;
            border: 1px solid #ccc;

            background-color: #f9f9f9; /* Light background for the list items */
            text-align: center;
        }
        .guest-list li.active {
            background-color: #007bff; /* Bootstrap primary color for example */
            color: #fff; /* White text color */
            border-color: #000;
        }


        .guest-list li:hover, .guest-list li:focus {
            border-color: #000;
            background-color: #e9ecef; /* Slightly darker on hover/focus */
            outline: none; /* Ensure no outline on focus as well */
        }
        .guest-list li:focus {
            /* Optional: Provide a visual cue for keyboard users, for example: */
            box-shadow: 0 0 0 2px #007bff; /* A subtle shadow or border color change */
        }

        #bookingButton {
            display: block;
            margin: 20px auto;
            padding: 15px 30px;
            font-size: 20px;
            color: #fff;
            background-color: #FFA500; /* Darker gold on hover for interaction feedback */
        ;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        #bookingButton:hover {
            background-color: #0056b3;
        }

        .back-arrow {
            position: absolute;
            top: 20%;
            left: 3%;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;

        }

        .close:hover,
        .back-arrow:hover{
            transform: scale(1.1);
            cursor: pointer;
        }
        .content-container button,
        #chooseGuests,
        #chooseDate,
        #saveBooking {
            display: block;
            margin: 20px auto;
            padding: 10px 20px;
            font-size: 16px;
            color: #fff;
            background-color:  #FFA500; /* Darker gold on hover for interaction feedback */

            border: none;
            border-radius: 5px;
        }

        .content-container button:hover {
            opacity: 0.8;
        }

        #booking-titel {
            position: relative;
            background-color: #f2f2f2; /* Lighter shade for a modern look */
            height: 3rem;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            border-top-right-radius: 10px; /* Rounded corners */
            border-top-left-radius: 10px; /* Rounded corners */

        }

        #modalTitle1, #modalTitle2, #modalTitle3 {
            color: #333; /* Darker text for better readability */
            margin: 0;
            font-size: 24px; /* Larger font size for titles */
        }

        select, input[type="date"], input[type="text"], input[type="tel"] {
            width: calc(100% - 40px); /* Full width minus padding */
            margin: 10px 20px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box; /* Include padding and border in element's width */
        }

        input[type="text"], input[type="tel"] {
            height: 44px; /* Fixed height for text inputs */
        }
        .header-booking{
            padding: 1rem;
        }



    </style>
</head>
<body>

<!-- Booking Button -->
<button id="bookingButton">Boka bord</button>

<!-- Modal for Step 1: Choosing Lunch or Dinner -->
<aside id="modalStep1" class="modal" aria-labelledby="modalTitle1" aria-hidden="true" role="dialog">
    <div class="content-container">
        <div id="booking-titel">
            <span class="close" onclick="closeModal('modalStep1')">&times;</span>
            <h2 id="modalTitle1">Antons Skafferi</h2>
        </div>
        <!-- Content for choosing lunch or dinner -->
        <h2 class="header-booking">Välj antal gäster</h2>
        <!-- Content for choosing the number of guests -->
        <!-- New ol and li for selecting number of guests -->
        <ol id="numberOfGuests" class="guest-list">
            <li value="1">1 gäst</li>
            <li value="2">2 gäster</li>
            <li value="3">3 gäster</li>
            <li value="4">4 gäster</li>
            <li value="5">5 gäster</li>
            <li value="6">6 gäster</li>
        </ol>
        <button id="chooseGuests">Fortsätt</button>
    </div>
</aside>

<!-- Modal for Step 3: Choosing Date -->
<aside id="modalStep2" class="modal" aria-labelledby="modalTitle2" aria-hidden="true" role="dialog">
    <div class="content-container">
        <!-- Add back arrow to each modal except the first one -->
        <div id="booking-titel">
            <div class="back-arrow" onclick="goBack('modalStep2', 'modalStep1')">&#x2190;</div>
            <span class="close" onclick="closeModal('modalStep2')">&times;</span>
            <h2 id="modalTitle2">Antons Skafferi</h2>
        </div>

        <h2 class="header-booking">Välj datum</h2>
        <!-- Content for choosing a date -->
        <input type="date" id="bookingDate">
        <button id="chooseDate">Fortsätt</button>
    </div>
</aside>

<!-- Modal for Step 4: Entering User Information -->
<aside id="modalStep3" class="modal" aria-labelledby="modalTitle3" aria-hidden="true" role="dialog">
    <div class="content-container">
        <!-- Add back arrow to each modal except the first one -->
        <div id="booking-titel">
            <div class="back-arrow" onclick="goBack('modalStep3', 'modalStep2')">&#x2190;</div>
            <span class="close" onclick="closeModal('modalStep3')">&times;</span>
            <h2 id="modalTitle3">Antons Skafferi</h2>
        </div>

        <h2 class="header-booking">Dina uppgifter</h2>
        <!-- Content for entering user information -->
        <input type="text" id="userName" placeholder="Ditt namn">
        <input type="tel" id="userPhone" placeholder="Ditt telefonnummer">
        <button id="saveBooking">Boka nu</button>
    </div>
</aside>

<script>
    // Function to open a modal
    function openModal(modalId) {
        document.getElementById(modalId).style.display = 'block';
        document.getElementById(modalId).setAttribute('aria-hidden', 'false');
    }

    // Function to close a modal
    function closeModal(modalId) {
        document.getElementById(modalId).style.display = 'none';
        document.getElementById(modalId).setAttribute('aria-hidden', 'true');
    }


    // Event listener for booking button
    document.getElementById('bookingButton').addEventListener('click', function() {
        openModal('modalStep1');
    });


    // Event listener for choosing number of guests
    document.getElementById('chooseGuests').addEventListener('click', function() {
        closeModal('modalStep1');
        openModal('modalStep2');
    });

    // Event listener for choosing number of guests
    document.getElementById('chooseDate').addEventListener('click', function() {
        closeModal('modalStep2');
        openModal('modalStep3');
    });

    // Event listener for saving booking
    document.getElementById('saveBooking').addEventListener('click', function() {
        // Here you would typically collect all the booking information and send it to the server
        // For the purpose of this example, we'll just log it to the console and close the modal
        var numberOfGuests = document.getElementById('numberOfGuests').value;
        var bookingDate = document.getElementById('bookingDate').value;
        var userName = document.getElementById('userName').value;
        var userPhone = document.getElementById('userPhone').value;

        console.log('Booking details:',
            'Number of Guests:', numberOfGuests,
            'Date:', bookingDate,
            'Name:', userName,
            'Phone:', userPhone);

        // After collecting data, you could send it to the server with an AJAX request or similar.

        // Close the final modal
        closeModal('modalStep3');

        // Optionally, reset the form or provide a confirmation message
        // Reset form example:
        document.getElementById('numberOfGuests').selectedIndex = 0;
        document.getElementById('bookingDate').value = '';
        document.getElementById('userName').value = '';
        document.getElementById('userPhone').value = '';

        // Confirmation message example:
        alert('Din bokning har sparats. Tack!');
    });

    // You might also want to add event listeners for the close buttons
    // Here's an example for one, repeat for others
    document.querySelectorAll('.close').forEach(function(element) {
        element.addEventListener('click', function() {
            var modalId = this.closest('.modal').getAttribute('id');
            closeModal(modalId);
        });
    });

    // To enhance UX, consider closing modals on outside click
    window.onclick = function(event) {
        if (event.target.classList.contains('modal')) {
            closeModal(event.target.getAttribute('id'));
        }
    }

    // Additional enhancements might be needed for accessibility, like trapping focus within the modal


    // Function to navigate back to the previous modal
    function goBack(currentModalId, previousModalId) {
        closeModal(currentModalId);
        openModal(previousModalId);
    }

    // Update closeModal function to reset aria-hidden attribute
    function closeModal(modalId) {
        var modal = document.getElementById(modalId);
        modal.style.display = 'none';
        modal.setAttribute('aria-hidden', 'true');
    }

    // Update openModal function to set aria-hidden attribute
    function openModal(modalId) {
        var modal = document.getElementById(modalId);
        modal.style.display = 'block';
        modal.setAttribute('aria-hidden', 'false');
    }

    // Ol List guest js examples
    // JavaScript to handle guest selection from the list
    document.querySelectorAll('.guest-list li').forEach(item => {
        item.addEventListener('click', function() {
            // Remove active class from all items
            document.querySelectorAll('.guest-list li').forEach(li => {
                li.classList.remove('active');
            });

            // Add active class to clicked item
            this.classList.add('active');

            // Store the selected number of guests for later use
            var numberOfGuests = this.getAttribute('value');
            console.log('Selected number of guests:', numberOfGuests);

            // You may want to store the selected number of guests in a variable or directly use it
            // for further actions, such as proceeding to the next step in your booking process.
        });
    });

    // Add a CSS rule for .active to highlight the selected item

</script>
</body>
</html>

